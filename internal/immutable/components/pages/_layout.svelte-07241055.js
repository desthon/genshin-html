import{S as _e,i as ge,s as ve,E as Fe,k as _,a as W,l as g,m as I,h as u,c as R,n as l,p as ee,F as te,b as q,G as f,H as qe,I as Je,J as Ge,f as z,K as we,L as Ye,t as Y,M as Qe,N as et,O as oe,A as ie,e as ae,g as le,d as ce,P as Z,Q as tt,v as ue,w as de,x as me,R as st,T as at,y as he,U as rt,q as $,r as x,u as Xe,V as ot,o as Ze,C as $e,W as Te,X as nt,Y as it,Z as Me,_ as lt}from"../../chunks/index-cd317e79.js";import{_ as ct}from"../../chunks/preload-helper-176e53da.js";import{D as ft,k as ut}from"../../chunks/runtime.esm-15c0af4d.js";import{p as dt}from"../../chunks/stores-0fef5972.js";import{t as mt,i as Se,m as pe,a as ht,b as Pe,v as Be,c as Oe}from"../../chunks/app-stores-3a3a5ec5.js";import{g as pt,d as _t,a as gt}from"../../chunks/outfit-509d794b.js";import{H as xe,B as vt,l as Ve,b as wt,i as bt,s as yt}from"../../chunks/banner-custom-05bf887c.js";import{c as Ne}from"../../chunks/api-cookie-d587b0da.js";import{o as kt,l as It,r as Et,g as Lt,a as St,s as be,b as re,f as Dt,c as ne}from"../../chunks/index-e93f33b3.js";import{c as At,r as Tt,a as Mt}from"../../chunks/api-filesystem-73180872.js";import{H as se,D as ye,K as Pt,A as ke}from"../../chunks/env-f184adc0.js";import{d as Bt,m as Ot,a as Vt}from"../../chunks/toast-41a2f8d8.js";import{I as Nt}from"../../chunks/Iklan-4fa80744.js";import{f as Ct}from"../../chunks/index-3db697f6.js";function Wt(r={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:s,onRegistered:a,onRegisteredSW:o,onRegisterError:n}=r;let i,m,d,h;const p=async(L=!0)=>{await d,L&&i?.addEventListener("controlling",y=>{y.isUpdate&&window.location.reload()}),await h?.()};async function w(){if("serviceWorker"in navigator){const{Workbox:L,messageSW:y}=await ct(()=>import("../../chunks/workbox-window.prod.es5-9f0a6626.js"),[],import.meta.url);h=async()=>{m&&m.waiting&&await y(m.waiting,{type:"SKIP_WAITING"})},i=new L("./sw.js",{scope:"./",type:"classic"}),i.addEventListener("activated",k=>{k.isUpdate||s?.()});{const k=()=>{t?.()};i.addEventListener("waiting",k),i.addEventListener("externalwaiting",k)}i.register({immediate:e}).then(k=>{m=k,o?o("./sw.js",k):a?.(k)}).catch(k=>{n?.(k)})}}return d=w(),p}const{getListByBanner:fe}=xe,Rt=async()=>{const r=await fe("beginner"),e=await fe("character-event"),t=await fe("weapon-event"),s=await fe("standard"),a=[...r,...e,...t,...s];a.length<1||a.map(({itemID:o})=>kt.put({itemID:o}))},Kt=()=>{const r={"pity4-character-event":"events4sPity","pity5-character-event":"events5sPity","pity4-weapon-event":"weapons4sPity","pity5-weapon-event":"weapons5sPity","pity4-beginner":"beginner4sPity","pity5-beginner":"beginner5sPity","pity4-standard":"standard4sPity","pity5-standard":"standard5sPity"};Object.keys(r).forEach(e=>{const t=localStorage.getItem(r[e]);localStorage.removeItem(r[e]),t&&It.set(e,parseInt(t))})},jt=()=>{const r=localStorage.getItem("beginnerRoll");localStorage.removeItem("beginnerRoll"),r&&Et.set("beginner",parseInt(r))},Ht=()=>{const r={beginner:"beginner",events4Star:"character-event-4star",events:"character-event-5star",weapons4Star:"weapon-event-4star",weapons:"weapon-event-5star"},e=localStorage.getItem("guaranteedStatus");if(!e)return;localStorage.removeItem("guaranteedStatus");const{status:t}=JSON.parse(e);Object.keys(t).forEach(s=>{const a=t[s];Lt.set(r[s],a)})},Ut=()=>{["primogem","genesis","intertwined","acquaint","starglitter","stardust"].forEach(e=>{const t=localStorage.getItem(e);localStorage.removeItem(e),t&&St.set(e,parseInt(t))})},zt=()=>{const r=localStorage.getItem("fatepoint");if(localStorage.removeItem("fatepoint"),!r)return;const{data:e}=JSON.parse(r),t=e.map(({patch:s,phase:a,selected:o,point:n})=>({version:s,phase:a,selected:o,point:n}));be.set("fatepoint",t)},Ft=()=>{const r=localStorage.getItem("welkin");if(localStorage.removeItem("welkin"),!r)return;const{latestCheckIn:e,remaining:t}=JSON.parse(r),s={latestCheckIn:e,remaining:t};be.set("welkin",s)},qt=()=>{const r=localStorage.getItem("outfits");if(localStorage.removeItem("outfits"),!r)return;const{outfits:e}=JSON.parse(r),t=e.map(({isSet:s,name:a})=>{const{name:o}=pt(a);return{isSet:s,name:a,characterName:o}});be.set("ownedOutfits",t)},Jt=()=>{const r=localStorage.getItem("config");if(localStorage.removeItem("config"),!r)return;const{config:e}=JSON.parse(r),t={adKey:"adKey",wishAmount:"wishAmount",topupBonus:"topupBonus",animatedBG:"animatedBG"};Object.keys(t).forEach(s=>{const a=e[s];a!=null&&re.set(t[s],a)})},Gt=()=>{const r=localStorage.getItem("firstshare");localStorage.removeItem("firstshare"),r&&re.set("firstTimeShare",r==="yes")},Yt=async()=>(localStorage.removeItem("storageVersion"),localStorage.removeItem("version"),Kt(),jt(),Ut(),Ht(),zt(),Ft(),qt(),Jt(),Gt(),await Rt()),{addHistory:Qt,getAllHistories:Xt}=xe,{getAll:Zt,put:$t}=vt,xt=async()=>{const r=re.get("idbVer");if(r<3){const e=Ne.get("adKey");e&&Ne.set("accessKey",e),await At();const t={};_t.forEach(({itemID:a,name:o})=>t[o]=a),gt.forEach(({itemID:a,name:o})=>t[o]=a);const s=await Xt();for(let a=0;a<s.length;a++){const o=s[a];o.itemID=t[o.name],await Qt(o),!(a<s.length-1)&&(await Yt(),re.set("idbVer",3))}}if(r<4){const e=await Zt();for(let t=0;t<e.length;t++){const s=e[t];!s.id||(s.shareID=s.id,delete s.id,await $t(s))}re.set("idbVer",4),console.log("IDB Updated")}},es=({to:r}={})=>{if(r==="local")return Tt();r!="drive"},ts=2500;let Ie=!1;const ss=async()=>{if(Ie)return;Ie=!0,await es({to:"local"});const r=setTimeout(()=>{Ie=!1,clearTimeout(r)},ts)},as=async()=>{},rs=r=>{as(),r&&ss()};let Ee;const Le=async({release:r=!1}={})=>{try{if(!r){Ee=await navigator.wakeLock.request("screen");return}await Ee.release(),Ee=null}catch{}},os=()=>{"wakeLock"in navigator&&(Le(),window.addEventListener("focus",()=>Le()),window.addEventListener("blur",()=>Le({release:!0})))};function Ce(r){let e,t,s,a;return{c(){e=_("button"),t=_("i"),this.h()},l(o){e=g(o,"BUTTON",{class:!0});var n=I(e);t=g(n,"I",{class:!0}),I(t).forEach(u),n.forEach(u),this.h()},h(){l(t,"class","gi-times"),l(e,"class","dismiss svelte-nr506c")},m(o,n){q(o,e,n),f(e,t),s||(a=oe(e,"click",r[8]),s=!0)},p:ie,d(o){o&&u(e),s=!1,a()}}}function ns(r){let e,t,s,a,o,n,i;const m=r[7].default,d=Fe(m,r,r[6],null);let h=r[1]&&Ce(r);return{c(){e=_("div"),t=_("div"),d&&d.c(),s=W(),h&&h.c(),this.h()},l(p){e=g(p,"DIV",{class:!0,role:!0,style:!0});var w=I(e);t=g(w,"DIV",{class:!0});var L=I(t);d&&d.l(L),L.forEach(u),s=R(w),h&&h.l(w),w.forEach(u),this.h()},h(){l(t,"class","text"),l(e,"class",a="toast "+r[0]+" svelte-nr506c"),l(e,"role","alert"),ee(e,"--duration",r[5]),te(e,"dismissible",r[1]),te(e,"autoclose",r[3]&&r[2]>0)},m(p,w){q(p,e,w),f(e,t),d&&d.m(t,null),f(e,s),h&&h.m(e,null),i=!0},p(p,[w]){d&&d.p&&(!i||w&64)&&qe(d,m,p,p[6],i?Ge(m,p[6],w,null):Je(p[6]),null),p[1]?h?h.p(p,w):(h=Ce(p),h.c(),h.m(e,null)):h&&(h.d(1),h=null),(!i||w&1&&a!==(a="toast "+p[0]+" svelte-nr506c"))&&l(e,"class",a),w&3&&te(e,"dismissible",p[1]),w&13&&te(e,"autoclose",p[3]&&p[2]>0)},i(p){i||(z(d,p),p&&we(()=>{n&&n.end(1),o=Ye(e,Dt,{y:-20}),o.start()}),i=!0)},o(p){Y(d,p),o&&o.invalidate(),n=Qe(e,ne,{duration:200}),i=!1},d(p){p&&u(e),d&&d.d(p),h&&h.d(),p&&n&&n.end()}}}function is(r,e,t){let{$$slots:s={},$$scope:a}=e,{type:o="info"}=e,{dismissible:n=!1}=e,{timeout:i=0}=e,{autoclose:m=!0}=e;const d=et(),h=i?`${i/1e3}s`:"0s",p=()=>d("dismiss");return r.$$set=w=>{"type"in w&&t(0,o=w.type),"dismissible"in w&&t(1,n=w.dismissible),"timeout"in w&&t(2,i=w.timeout),"autoclose"in w&&t(3,m=w.autoclose),"$$scope"in w&&t(6,a=w.$$scope)},[o,n,i,m,d,h,a,s,p]}class ls extends _e{constructor(e){super(),ge(this,e,is,ns,ve,{type:0,dismissible:1,timeout:2,autoclose:3})}}function We(r,e,t){const s=r.slice();return s[3]=e[t].type,s[4]=e[t].id,s[5]=e[t].dismissible,s[6]=e[t].message,s[7]=e[t].autoclose,s[8]=e[t].timeout,s}function Re(r){let e,t=[],s=new Map,a,o=r[0];const n=i=>i[4];for(let i=0;i<o.length;i+=1){let m=We(r,o,i),d=n(m);s.set(d,t[i]=Ke(d,m))}return{c(){e=_("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=g(i,"DIV",{class:!0});var m=I(e);for(let d=0;d<t.length;d+=1)t[d].l(m);m.forEach(u),this.h()},h(){l(e,"class","toasts svelte-dsqrcm")},m(i,m){q(i,e,m);for(let d=0;d<t.length;d+=1)t[d].m(e,null);a=!0},p(i,m){if(m&1){o=i[0],le();for(let d=0;d<t.length;d+=1)t[d].r();t=tt(t,m,n,1,i,o,s,e,rt,Ke,null,We);for(let d=0;d<t.length;d+=1)t[d].a();ce()}},i(i){if(!a){for(let m=0;m<o.length;m+=1)z(t[m]);a=!0}},o(i){for(let m=0;m<t.length;m+=1)Y(t[m]);a=!1},d(i){i&&u(e);for(let m=0;m<t.length;m+=1)t[m].d()}}}function cs(r){let e=r[6]+"",t;return{c(){t=$(e)},l(s){t=x(s,e)},m(s,a){q(s,t,a)},p(s,a){a&1&&e!==(e=s[6]+"")&&Xe(t,e)},d(s){s&&u(t)}}}function Ke(r,e){let t,s,a,o,n=ie,i;function m(){return e[1](e[4])}return s=new ls({props:{type:e[3],dismissible:e[5],autoclose:e[7],timeout:e[8],$$slots:{default:[cs]},$$scope:{ctx:e}}}),s.$on("dismiss",m),{key:r,first:null,c(){t=_("div"),ue(s.$$.fragment),a=W(),this.h()},l(d){t=g(d,"DIV",{class:!0});var h=I(t);de(s.$$.fragment,h),a=R(h),h.forEach(u),this.h()},h(){l(t,"class","toast-item"),this.first=t},m(d,h){q(d,t,h),me(s,t,null),f(t,a),i=!0},p(d,h){e=d;const p={};h&1&&(p.type=e[3]),h&1&&(p.dismissible=e[5]),h&1&&(p.autoclose=e[7]),h&1&&(p.timeout=e[8]),h&2049&&(p.$$scope={dirty:h,ctx:e}),s.$set(p)},r(){o=t.getBoundingClientRect()},f(){st(t),n()},a(){n(),n=at(t,o,Ct,{duration:e[2]})},i(d){i||(z(s.$$.fragment,d),i=!0)},o(d){Y(s.$$.fragment,d),i=!1},d(d){d&&u(t),he(s)}}}function fs(r){let e,t,s=r[0]&&Re(r);return{c(){s&&s.c(),e=ae()},l(a){s&&s.l(a),e=ae()},m(a,o){s&&s.m(a,o),q(a,e,o),t=!0},p(a,[o]){a[0]?s?(s.p(a,o),o&1&&z(s,1)):(s=Re(a),s.c(),z(s,1),s.m(e.parentNode,e)):s&&(le(),Y(s,1,1,()=>{s=null}),ce())},i(a){t||(z(s),t=!0)},o(a){Y(s),t=!1},d(a){s&&s.d(a),a&&u(e)}}}function us(r,e,t){let s;return Z(r,mt,n=>t(0,s=n)),[s,n=>Bt(n),n=>25*Math.sqrt(n)]}class ds extends _e{constructor(e){super(),ge(this,e,us,fs,ve,{})}}function je(r){let e,t,s,a,o,n,i,m,d,h,p,w,L,y,k,P,T,S,D,K,N;return{c(){e=_("div"),t=_("div"),s=_("div"),a=$(`An error occurred while trying to load some assets, this may affect your wish experience.
				`),o=_("br"),n=W(),i=_("small"),m=_("small"),d=$(`If you think this is a mistake, please contact me on
						`),h=_("a"),p=$(`Discord
						`),w=$("!"),L=W(),y=_("div"),k=_("button"),P=$("Reload"),T=W(),S=_("button"),D=$("Open Anyway"),this.h()},l(M){e=g(M,"DIV",{class:!0});var B=I(e);t=g(B,"DIV",{class:!0});var A=I(t);s=g(A,"DIV",{class:!0});var c=I(s);a=x(c,`An error occurred while trying to load some assets, this may affect your wish experience.
				`),o=g(c,"BR",{}),n=R(c),i=g(c,"SMALL",{});var O=I(i);m=g(O,"SMALL",{});var H=I(m);d=x(H,`If you think this is a mistake, please contact me on
						`),h=g(H,"A",{href:!0,style:!0});var Q=I(h);p=x(Q,`Discord
						`),Q.forEach(u),w=x(H,"!"),H.forEach(u),O.forEach(u),c.forEach(u),L=R(A),y=g(A,"DIV",{class:!0});var F=I(y);k=g(F,"BUTTON",{class:!0});var J=I(k);P=x(J,"Reload"),J.forEach(u),T=R(F),S=g(F,"BUTTON",{class:!0});var X=I(S);D=x(X,"Open Anyway"),X.forEach(u),F.forEach(u),A.forEach(u),B.forEach(u),this.h()},h(){l(h,"href","https://discord.com/users/523179264116523018"),ee(h,"color","#7289da"),l(s,"class","msg"),l(k,"class","reload svelte-11srr1o"),l(S,"class","open svelte-11srr1o"),l(y,"class","btn svelte-11srr1o"),l(t,"class","modal-content svelte-11srr1o"),l(e,"class","modal svelte-11srr1o")},m(M,B){q(M,e,B),f(e,t),f(t,s),f(s,a),f(s,o),f(s,n),f(s,i),f(i,m),f(m,d),f(m,h),f(h,p),f(m,w),f(t,L),f(t,y),f(y,k),f(k,P),f(y,T),f(y,S),f(S,D),K||(N=[oe(k,"click",r[8]),oe(S,"click",r[7])],K=!0)},p:ie,d(M){M&&u(e),K=!1,$e(N)}}}function He(r){let e,t,s,a,o,n,i,m,d,h,p,w,L,y,k,P,T,S,D,K,N,M,B,A,c,O,H,Q;const F=[hs,ms],J=[];function X(C,U){return C[4]<0?0:1}A=X(r),c=J[A]=F[A](r);let j=r[5]&&!r[6]&&Ue();return{c(){e=_("div"),t=_("div"),s=_("div"),a=_("div"),o=_("i"),n=W(),i=_("i"),m=W(),d=_("i"),h=W(),p=_("i"),w=W(),L=_("i"),y=W(),k=_("i"),P=W(),T=_("i"),S=W(),D=_("div"),K=_("div"),N=W(),M=_("div"),B=W(),c.c(),O=W(),j&&j.c(),this.h()},l(C){e=g(C,"DIV",{class:!0});var U=I(e);t=g(U,"DIV",{class:!0});var E=I(t);s=g(E,"DIV",{class:!0});var b=I(s);a=g(b,"DIV",{class:!0});var v=I(a);o=g(v,"I",{class:!0}),I(o).forEach(u),n=R(v),i=g(v,"I",{class:!0}),I(i).forEach(u),m=R(v),d=g(v,"I",{class:!0}),I(d).forEach(u),h=R(v),p=g(v,"I",{class:!0}),I(p).forEach(u),w=R(v),L=g(v,"I",{class:!0}),I(L).forEach(u),y=R(v),k=g(v,"I",{class:!0}),I(k).forEach(u),P=R(v),T=g(v,"I",{class:!0}),I(T).forEach(u),v.forEach(u),S=R(b),D=g(b,"DIV",{class:!0});var G=I(D);K=g(G,"DIV",{class:!0}),I(K).forEach(u),N=R(G),M=g(G,"DIV",{class:!0,style:!0}),I(M).forEach(u),G.forEach(u),b.forEach(u),B=R(E),c.l(E),O=R(E),j&&j.l(E),E.forEach(u),U.forEach(u),this.h()},h(){l(o,"class","gi-pyro"),l(i,"class","gi-hydro"),l(d,"class","gi-anemo"),l(p,"class","gi-electro"),l(L,"class","gi-dendro"),l(k,"class","gi-cryo"),l(T,"class","gi-geo"),l(a,"class","icon"),l(K,"class","unfilled svelte-11srr1o"),l(M,"class","filled animate svelte-11srr1o"),ee(M,"width",r[4].toFixed(2)+"%"),l(D,"class","blend svelte-11srr1o"),l(s,"class","progress svelte-11srr1o"),l(t,"class","content svelte-11srr1o"),l(e,"class","loader svelte-11srr1o")},m(C,U){q(C,e,U),f(e,t),f(t,s),f(s,a),f(a,o),f(a,n),f(a,i),f(a,m),f(a,d),f(a,h),f(a,p),f(a,w),f(a,L),f(a,y),f(a,k),f(a,P),f(a,T),f(s,S),f(s,D),f(D,K),f(D,N),f(D,M),f(t,B),J[A].m(t,null),f(t,O),j&&j.m(t,null),Q=!0},p(C,U){(!Q||U&16)&&ee(M,"width",C[4].toFixed(2)+"%");let E=A;A=X(C),A===E?J[A].p(C,U):(le(),Y(J[E],1,1,()=>{J[E]=null}),ce(),c=J[A],c?c.p(C,U):(c=J[A]=F[A](C),c.c()),z(c,1),c.m(t,O)),C[5]&&!C[6]?j||(j=Ue(),j.c(),j.m(t,null)):j&&(j.d(1),j=null)},i(C){Q||(z(c),H&&H.end(1),Q=!0)},o(C){Y(c),H=Qe(e,ne,{duration:500,delay:1e3}),Q=!1},d(C){C&&u(e),J[A].d(),j&&j.d(),C&&H&&H.end()}}}function ms(r){let e,t=(r[4]>99?100:r[4].toFixed())+"",s,a,o;return{c(){e=_("div"),s=$(t),a=$("%"),this.h()},l(n){e=g(n,"DIV",{class:!0});var i=I(e);s=x(i,t),a=x(i,"%"),i.forEach(u),this.h()},h(){l(e,"class","text svelte-11srr1o")},m(n,i){q(n,e,i),f(e,s),f(e,a)},p(n,i){i&16&&t!==(t=(n[4]>99?100:n[4].toFixed())+"")&&Xe(s,t)},i(n){o||we(()=>{o=Ye(e,ne,{}),o.start()})},o:ie,d(n){n&&u(e)}}}function hs(r){let e,t,s,a;return{c(){e=_("div"),t=$("Connecting"),this.h()},l(o){e=g(o,"DIV",{class:!0});var n=I(e);t=x(n,"Connecting"),n.forEach(u),this.h()},h(){l(e,"class","text connecting svelte-11srr1o")},m(o,n){q(o,e,n),f(e,t),a=!0},p:ie,i(o){a||(we(()=>{s||(s=Te(e,ne,{},!0)),s.run(1)}),a=!0)},o(o){s||(s=Te(e,ne,{},!1)),s.run(0),a=!1},d(o){o&&u(e),o&&s&&s.end()}}}function Ue(r){let e,t,s,a,o;return{c(){e=_("div"),t=_("i"),s=W(),a=_("span"),o=$("Rotate for better experience"),this.h()},l(n){e=g(n,"DIV",{class:!0});var i=I(e);t=g(i,"I",{class:!0}),I(t).forEach(u),s=R(i),a=g(i,"SPAN",{class:!0});var m=I(a);o=x(m,"Rotate for better experience"),m.forEach(u),i.forEach(u),this.h()},h(){l(t,"class","gi-rotate-phone svelte-11srr1o"),l(a,"class","svelte-11srr1o"),l(e,"class","rotate svelte-11srr1o")},m(n,i){q(n,e,i),f(e,t),f(e,s),f(e,a),f(a,o)},d(n){n&&u(e)}}}function ps(r){let e,t,s,a=r[2]&&!r[3]&&je(r),o=!((r[0]||r[1])&&r[3]&&r[4]>=100)&&He(r);return{c(){a&&a.c(),e=W(),o&&o.c(),t=ae()},l(n){a&&a.l(n),e=R(n),o&&o.l(n),t=ae()},m(n,i){a&&a.m(n,i),q(n,e,i),o&&o.m(n,i),q(n,t,i),s=!0},p(n,[i]){n[2]&&!n[3]?a?a.p(n,i):(a=je(n),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),(n[0]||n[1])&&n[3]&&n[4]>=100?o&&(le(),Y(o,1,1,()=>{o=null}),ce()):o?(o.p(n,i),i&27&&z(o,1)):(o=He(n),o.c(),z(o,1),o.m(t.parentNode,t))},i(n){s||(z(o),s=!0)},o(n){Y(o),s=!1},d(n){a&&a.d(n),n&&u(e),o&&o.d(n),n&&u(t)}}}function _s(r,e,t){let s,a;Z(r,Se,y=>t(5,s=y)),Z(r,pe,y=>t(6,a=y));let{isBannerLoaded:o=!1}=e,{directLoad:n=!1}=e,i=!1,m=!1,d=-1;const h=ot("loaded"),p=()=>{h(),t(3,m=!0)},w=async y=>{const k=y==="preview",P=[];let T=0;const S=k?Ve("preview"):Ve();for await(const N of S){T++;const{path:M,asset:B}=N,A=await wt(M);A==="error"&&t(2,i=!0),P.push({url:A,name:B}),t(4,d=T/S.length*100)}const D=await Promise.all(P),K=await bt();ht.update(N=>(N={},D.forEach(({url:M,name:B})=>N[B]=M),{...N,...K})),i===!1&&p()};Ze(()=>{w(n?"preview":"")});const L=()=>window.location.reload();return r.$$set=y=>{"isBannerLoaded"in y&&t(0,o=y.isBannerLoaded),"directLoad"in y&&t(1,n=y.directLoad)},[o,n,i,m,d,s,a,p,L]}class gs extends _e{constructor(e){super(),ge(this,e,_s,ps,ve,{isBannerLoaded:0,directLoad:1})}}const{document:V,window:De}=lt;function vs(r){let e;return{c(){e=_("link"),this.h()},l(t){e=g(t,"LINK",{rel:!0,href:!0}),this.h()},h(){l(e,"rel","manifest"),l(e,"href","/appmanifest.json")},m(t,s){q(t,e,s)},d(t){t&&u(e)}}}function ze(r){let e;const t=r[13].default,s=Fe(t,r,r[12],null);return{c(){s&&s.c()},l(a){s&&s.l(a)},m(a,o){s&&s.m(a,o),e=!0},p(a,o){s&&s.p&&(!e||o&4096)&&qe(s,t,a,a[12],e?Ge(t,a[12],o,null):Je(a[12]),null)},i(a){e||(z(s,a),e=!0)},o(a){Y(s,a),e=!1},d(a){s&&s.d(a)}}}function ws(r){let e,t,s,a,o,n,i,m,d,h,p,w,L,y,k,P,T,S,D,K,N,M,B,A,c,O,H,Q,F,J,X,j,C;we(r[14]);let U=vs();N=new Nt({props:{head:!0}}),B=new gs({props:{isBannerLoaded:r[3],directLoad:r[6]}}),O=new ds({});let E=!r[11]&&r[4]&&ze(r);return{c(){e=_("meta"),t=_("meta"),s=_("meta"),a=_("link"),o=_("meta"),n=_("meta"),i=_("meta"),m=_("meta"),d=_("meta"),h=_("meta"),p=_("meta"),w=_("meta"),L=_("meta"),y=_("meta"),k=_("meta"),P=_("link"),T=_("link"),S=_("link"),D=_("link"),U&&U.c(),K=ae(),ue(N.$$.fragment),M=W(),ue(B.$$.fragment),A=W(),c=_("main"),ue(O.$$.fragment),H=W(),E&&E.c(),Q=W(),F=_("a"),J=$("UID\uFF1A304814539"),this.h()},l(b){const v=nt('[data-svelte="svelte-1ki938s"]',V.head);e=g(v,"META",{name:!0,content:!0}),t=g(v,"META",{name:!0,content:!0}),s=g(v,"META",{property:!0,content:!0}),a=g(v,"LINK",{rel:!0,href:!0,title:!0}),o=g(v,"META",{property:!0,content:!0}),n=g(v,"META",{property:!0,content:!0}),i=g(v,"META",{property:!0,content:!0}),m=g(v,"META",{property:!0,content:!0}),d=g(v,"META",{property:!0,content:!0}),h=g(v,"META",{name:!0,content:!0}),p=g(v,"META",{property:!0,content:!0}),w=g(v,"META",{property:!0,content:!0}),L=g(v,"META",{name:!0,content:!0}),y=g(v,"META",{name:!0,content:!0}),k=g(v,"META",{name:!0,content:!0}),P=g(v,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),T=g(v,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),S=g(v,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),D=g(v,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),U&&U.l(v),K=ae(),de(N.$$.fragment,v),v.forEach(u),M=R(b),de(B.$$.fragment,b),A=R(b),c=g(b,"MAIN",{class:!0,style:!0});var G=I(c);de(O.$$.fragment,G),H=R(G),E&&E.l(G),Q=R(G),F=g(G,"A",{href:!0,class:!0,title:!0});var Ae=I(F);J=x(Ae,"UID\uFF1A304814539"),Ae.forEach(u),G.forEach(u),this.h()},h(){l(e,"name","description"),l(e,"content",ye),l(t,"name","keywords"),l(t,"content",Pt),l(s,"property","al:web:url"),l(s,"content",se),l(a,"rel","fluid-icon"),l(a,"href",se+"/meta-picture.jpg"),l(a,"title",ke),l(o,"property","og:url"),l(o,"content",se),l(n,"property","og:type"),l(n,"content","website"),l(i,"property","og:title"),l(i,"content",ke),l(m,"property","og:description"),l(m,"content",ye),l(d,"property","og:image"),l(d,"content",se+"/meta-picture.jpg"),l(h,"name","twitter:card"),l(h,"content","summary_large_image"),l(p,"property","twitter:domain"),l(p,"content",se.replace("https://","").replace("http://","")),l(w,"property","twitter:url"),l(w,"content",se),l(L,"name","twitter:title"),l(L,"content",ke),l(y,"name","twitter:description"),l(y,"content",ye),l(k,"name","twitter:image"),l(k,"content",se+"/meta-picture.jpg"),l(P,"rel","preload"),l(P,"href","/fonts/optimized_global_web.woff2"),l(P,"as","font"),l(P,"type","font/woff2"),l(P,"crossorigin",""),l(T,"rel","preload"),l(T,"href","/fonts/optimized_th_web.woff2"),l(T,"as","font"),l(T,"type","font/woff2"),l(T,"crossorigin",""),l(S,"rel","preload"),l(S,"href","/fonts/optimized_jp_web.woff2"),l(S,"as","font"),l(S,"type","font/woff2"),l(S,"crossorigin",""),l(D,"rel","preload"),l(D,"href","/fonts/optimized_zh_web.woff2"),l(D,"as","font"),l(D,"type","font/woff2"),l(D,"crossorigin",""),l(F,"href","/"),l(F,"class","uid"),l(F,"title","Try Your Luck by this Simulator"),l(c,"class",r[2]),ee(c,"--screen-height",r[9]?`${r[9]}px`:"100vh"),ee(c,"--screen-width",r[10]+"px"),ee(c,"--genshin-font","var(--gi-"+r[5]+"-font)"),te(c,"mobile",r[8]),te(c,"preview",r[7])},m(b,v){f(V.head,e),f(V.head,t),f(V.head,s),f(V.head,a),f(V.head,o),f(V.head,n),f(V.head,i),f(V.head,m),f(V.head,d),f(V.head,h),f(V.head,p),f(V.head,w),f(V.head,L),f(V.head,y),f(V.head,k),f(V.head,P),f(V.head,T),f(V.head,S),f(V.head,D),U&&U.m(V.head,null),f(V.head,K),me(N,V.head,null),q(b,M,v),me(B,b,v),q(b,A,v),q(b,c,v),me(O,c,null),f(c,H),E&&E.m(c,null),f(c,Q),f(c,F),f(F,J),X=!0,j||(C=[oe(De,"resize",r[14]),oe(F,"click",it(r[15]))],j=!0)},p(b,[v]){const G={};v&8&&(G.isBannerLoaded=b[3]),v&64&&(G.directLoad=b[6]),B.$set(G),!b[11]&&b[4]?E?(E.p(b,v),v&2064&&z(E,1)):(E=ze(b),E.c(),z(E,1),E.m(c,Q)):E&&(le(),Y(E,1,1,()=>{E=null}),ce()),(!X||v&4)&&l(c,"class",b[2]),(!X||v&512)&&ee(c,"--screen-height",b[9]?`${b[9]}px`:"100vh"),(!X||v&1024)&&ee(c,"--screen-width",b[10]+"px"),(!X||v&32)&&ee(c,"--genshin-font","var(--gi-"+b[5]+"-font)"),v&260&&te(c,"mobile",b[8]),v&132&&te(c,"preview",b[7])},i(b){X||(z(N.$$.fragment,b),z(B.$$.fragment,b),z(O.$$.fragment,b),z(E),X=!0)},o(b){Y(N.$$.fragment,b),Y(B.$$.fragment,b),Y(O.$$.fragment,b),Y(E),X=!1},d(b){u(e),u(t),u(s),u(a),u(o),u(n),u(i),u(m),u(d),u(h),u(p),u(w),u(L),u(y),u(k),u(P),u(T),u(S),u(D),U&&U.d(b),u(K),he(N),b&&u(M),he(B,b),b&&u(A),b&&u(c),he(O),E&&E.d(),j=!1,$e(C)}}}function bs(r,e,t){let s,a,o,n,i,m,d,h,p;Z(r,Mt,c=>t(16,s=c)),Z(r,Se,c=>t(17,a=c)),Z(r,Pe,c=>t(18,o=c)),Z(r,dt,c=>t(19,n=c)),Z(r,ft,c=>t(2,i=c)),Z(r,pe,c=>t(8,m=c)),Z(r,Oe,c=>t(9,d=c)),Z(r,Be,c=>t(10,h=c)),Z(r,ut,c=>t(11,p=c));let{$$slots:w={},$$scope:L}=e,y,k,P=!1,T=!1;Me("bannerLoaded",()=>t(3,P=!0)),Me("loaded",()=>t(4,T=!0));let S="",D=!1,K=!1;const N=()=>{const c=n.url.pathname.split("/");t(6,D=!!c[1]),t(7,K=c[1]==="screen");const H=["adkey","bnlist","install","privacy-policy","screen"].includes(c[1].toLowerCase());return c[1]&&!H},M=()=>{if(o)return pe.set(!0);const c=screen.orientation?.angle||0,O=c===90||c===270;pe.set(O)};Ot(),Ze(async()=>{if(N())return window.location.replace("/");const c=new URL(window.location.href),O=new URLSearchParams(c.search);Pe.set(O.get("pwa")==="true"||!!O.get("pwasc")),Se.set(Vt()||k<601),a&&M(),window.addEventListener("orientationchange",()=>{a&&M()}),be.initEvent(),Wt(),os(),await xt(),yt(),document.addEventListener("storageUpdate",()=>rs(s)),document.addEventListener("contextmenu",H=>H.preventDefault())});function B(){t(0,y=De.innerHeight),t(1,k=De.innerWidth)}const A=()=>window.location.replace("/");return r.$$set=c=>{"$$scope"in c&&t(12,L=c.$$scope)},r.$$.update=()=>{if(r.$$.dirty&4){const c=i?.toLowerCase()||"",O=c.match(/(cn|ja)/);t(5,S=O||c.includes("th")?c.split("-")[0]:"global")}r.$$.dirty&2&&Be.set(k),r.$$.dirty&1&&Oe.set(y)},[y,k,i,P,T,S,D,K,m,d,h,p,L,w,B,A]}class Ns extends _e{constructor(e){super(),ge(this,e,bs,ws,ve,{})}}export{Ns as default};
